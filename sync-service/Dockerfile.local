FROM rust:alpine

WORKDIR /app

COPY . ./

WORKDIR /app/sync-service
RUN apk update && \
  apk add musl-dev && \
  cargo install cargo-watch

CMD ["cargo", "watch", "-x", "run"]